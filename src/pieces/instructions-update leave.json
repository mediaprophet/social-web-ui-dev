{
  "script": {
    "title": "Update Leave Modal to Self-Notification",
    "description": "Transforms the 'Add Leaves' modal to a 'Notify Leave' modal for self-notification by the user. Removes 'Employee Name' field, adds checkboxes for selecting one or more projects (with an 'All Projects' option that toggles all checkboxes), and updates titles/buttons to reflect self-notification. Uses sample projects from the dashboard (PRO-001 to PRO-005). Maintains Tailwind CSS styling and includes JavaScript for the 'All' checkbox functionality.",
    "target_file": "PersonalDashboard.html",
    "transformations": [
      {
        "type": "replace_element",
        "search": "<!-- Add Leaves -->[\\s\\S]*?<!-- /Add Leaves -->",
        "replace": "<!-- Notify Leave -->\n<div id=\"notify_leave\" class=\"hidden overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-[1055] justify-center items-center flex-wrap w-full md:inset-0 h-[calc(100%-1rem)] max-h-full transition-all duration-300 ease-in-out p-4\">\n    <div class=\"relative p-4 w-full max-w-[500px] max-h-full\">\n        <div class=\"relative bg-white rounded-defaultradius\">\n            <div class=\"flex items-center justify-between p-4 border-b border-borderColor\">\n                <h4 class=\"font-semibold\">Notify Leave</h4>\n                <button type=\"button\" class=\"end-2.5 text-white bg-gray-500 hover:bg-danger hover:text-white rounded-full text-xs leading-normal size-5 ms-auto inline-flex justify-center items-center\" data-modal-hide=\"notify_leave\">\n                    <i class=\"ti ti-x\"></i>\n                    <span class=\"sr-only\">Close modal</span>\n                </button>\n            </div>\n            <form action=\"index.html\">\n                <div class=\"p-4\">\n                    <div id=\"default-styled-tab-content\">\n                        <div class=\"grid grid-cols-1 md:grid-cols-12 gap-y-4 gap-x-6\">\n                            <div class=\"md:col-span-12\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">Leave Type</label>\n                                <select class=\"select\">\n                                    <option>Select</option>\n                                    <option>Medical Leave</option>\n                                    <option>Casual Leave</option>\n                                    <option>Annual Leave</option>\n                                </select>\n                            </div>\n                            <div class=\"md:col-span-6\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">From </label>\n                                <div class=\"relative\">\n                                    <div class=\"absolute inset-y-0 end-2 flex items-center pointer-events-none\">\n                                        <i class=\"ti ti-calendar text-gray-600 text-base leading-normal\"></i>\n                                    </div>\n                                    <input type=\"text\" class=\"flatpickr-input flat-datepickr bg-white border-borderColor text-gray-900 text-sm rounded-input block w-full py-2 px-2.5 h-[38px] placeholder:text-gray-400\" placeholder=\"dd/mm/yyyy\">\n                                </div>\n                            </div>\n                            <div class=\"md:col-span-6\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">To </label>\n                                <div class=\"relative\">\n                                    <div class=\"absolute inset-y-0 end-2 flex items-center pointer-events-none\">\n                                        <i class=\"ti ti-calendar text-gray-600 text-base leading-normal\"></i>\n                                    </div>\n                                    <input type=\"text\" class=\"flatpickr-input flat-datepickr bg-white border-borderColor text-gray-900 text-sm rounded-input block w-full py-2 px-2.5 h-[38px] placeholder:text-gray-400\" placeholder=\"dd/mm/yyyy\">\n                                </div>\n                            </div>\n                            <div class=\"md:col-span-6\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">No of Days </label>\n                                <input type=\"text\" class=\"bg-white border-borderColor text-gray-900 text-sm rounded-input block w-full py-2 px-2.5 h-[38px] placeholder:text-gray-400 disabled:bg-light disabled:text-default\" disabled>\n                            </div>\n                            <div class=\"md:col-span-6\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">Remaining Days </label>\n                                <input type=\"text\" class=\"bg-white border-borderColor text-gray-900 text-sm rounded-input block w-full py-2 px-2.5 h-[38px] placeholder:text-gray-400\" value=\"8\" disabled>\n                            </div>\n                            <div class=\"md:col-span-12\">\n                                <label class=\"block mb-1 text-sm leading-normal font-medium text-title\">Projects Affected</label>\n                                <div class=\"space-y-2\">\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" id=\"all_projects\" class=\"form-checkbox\">\n                                        <span class=\"ml-2\">All Projects</span>\n                                    </label>\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" class=\"form-checkbox project-checkbox\">\n                                        <span class=\"ml-2\">PRO-001: Office Management App</span>\n                                    </label>\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" class=\"form-checkbox project-checkbox\">\n                                        <span class=\"ml-2\">PRO-002: Clinic Management</span>\n                                    </label>\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" class=\"form-checkbox project-checkbox\">\n                                        <span class=\"ml-2\">PRO-003: Educational Platform</span>\n                                    </label>\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" class=\"form-checkbox project-checkbox\">\n                                        <span class=\"ml-2\">PRO-004: Chat & Call Mobile App</span>\n                                    </label>\n                                    <label class=\"flex items-center\">\n                                        <input type=\"checkbox\" class=\"form-checkbox project-checkbox\">\n                                        <span class=\"ml-2\">PRO-005: Travel Planning Website</span>\n                                    </label>\n                                </div>\n                            </div>\n                            <div class=\"md:col-span-12\">\n                                <label for=\"message\" class=\"block mb-1 text-sm leading-normal font-medium text-title\">Reason </label>\n                                <textarea id=\"message\" rows=\"3\" class=\"block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"flex items-center justify-end p-4 border-t border-borderColor\">\n                    <button data-modal-hide=\"notify_leave\" type=\"button\" class=\"btn bg-light border border-light text-gray-900 text-center hover:bg-light-900 hover:text-gray-900 font-medium me-2\">Cancel</button>\n                    <button type=\"submit\" class=\"btn bg-primary border border-primary text-white text-center hover:bg-primary-900 hover:text-white font-medium\">Notify Leave</button>\n                </div>\n            </form>\n            <script>\n                document.getElementById('all_projects').addEventListener('change', function() {\n                    var checkboxes = document.querySelectorAll('.project-checkbox');\n                    checkboxes.forEach(function(checkbox) {\n                        checkbox.checked = this.checked;\n                    }, this);\n                });\n            </script>\n        </div>\n    </div>\n</div>\n<!-- /Notify Leave -->",
        "description": "Replace the entire 'Add Leaves' modal (including comments) with the new 'Notify Leave' modal. Changes include: updating ID to 'notify_leave', removing 'Employee Name' field, adding checkboxes for projects with 'All Projects' toggle (using JavaScript for functionality), updating titles/buttons to 'Notify Leave', and using sample projects from the dashboard."
      },
      {
        "type": "replace_text",
        "search": "Add Leaves",
        "replace": "Notify Leave",
        "description": "Update any remaining 'Add Leaves' references to 'Notify Leave' for consistency."
      }
    ],
    "notes": [
      "The modal ID is changed to 'notify_leave' to reflect the self-notification purpose; update any triggers (e.g., buttons opening the modal) accordingly.",
      "The 'All Projects' checkbox uses simple JavaScript to toggle all project checkboxes; this is inline for simplicity but can be moved to a script file.",
      "Project checkboxes use sample projects (PRO-001 to PRO-005) from the dashboard; in a real system, populate dynamically from user's projects.",
      "Removed 'Employee Name' field as it's self-notification; dates, leave type, days, and reason fields are retained.",
      "The transformation preserves Tailwind CSS styling and flatpickr for dates."
    ]
  }
}